
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Groovy Fundamentals: Part 1: Basics - Personal Interview Notes</title>
  <meta name="author" content="Cuong Dong-Si">

  
  <meta name="description" content="This post corresponds to &ldquo;Installing Groovy&rdquo; section of this course. Anatomy of Groovy bytecode There is no requirement of filename &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://tdongsi.github.io/java/blog/2017/12/08/groovy-fundamentals-part-1/">
  <link href="/java/favicon.png" rel="icon">
  <link href="/java/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Personal Interview Notes" type="application/atom+xml">
  <script src="/java/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/java/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body    class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/java/">Personal Interview Notes</a></h1>
  
    <h2>Neither success nor failure is ever final.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="tdongsi.github.io/java">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/java/">Blog Home</a></li>
  <li><a href="/java/blog/archives">Archives</a></li>
  <li><a href="http://tdongsi.github.io/SqlTests/syllabus/">Syllabus</a></li>
  <li><a href="http://tdongsi.github.io">Personal Home</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Groovy Fundamentals: Part 1: Basics</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-12-08T17:16:47-08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>8</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>5:16 pm</span></time>
        
      </p>
    
  </header>


<div class="entry-content"><p>This post corresponds to &ldquo;Installing Groovy&rdquo; section of <a href="https://www.safaribooksonline.com/library/view/groovy-programming-fundamentals/9781491926253/">this course</a>.</p>

<!--more-->


<h3>Anatomy of Groovy bytecode</h3>

<p>There is no requirement of filename matching class name like in Java (e.g., Foo.java for Foo class).
However, the convention is that filesnames with lower cases and underscore are used for script (e.g., hello_world.groovy) and filesnames with camel cases are used for Groovy class (e.g., Foo.groovy for Foo class).</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>tdongsi-ltm4:docs tdongsi$ groovy hello_world.groovy
</span><span class='line'>Hello World
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>tdongsi-ltm4:docs tdongsi$ groovyc hello_world.groovy
</span><span class='line'>tdongsi-ltm4:docs tdongsi$ ls
</span><span class='line'>hello_world.class
</span><span class='line'>hello_world.groovy
</span><span class='line'>tdongsi-ltm4:docs tdongsi$ groovy hello_world
</span><span class='line'>Hello World</span></code></pre></td></tr></table></div></figure>


<p>The above code snippets show that you can run command <code>groovy</code> with source code directly, giving the impression of interpreting language.
However, what actually happens is that it compiles and runs the bytecode but does not save the byte code.
On the other hand, you can compile with <code>groovyc</code> command to obtain the bytecode and run like Java code.</p>

<figure class='code'><figcaption><span>Anatomy of bytecode from Groovy code</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>tdongsi-ltm4:docs tdongsi$ java hello_world
</span><span class='line'>Error: Could not find or load main class hello_world
</span><span class='line'>
</span><span class='line'>tdongsi-ltm4:docs tdongsi$ javap hello_world
</span><span class='line'>Compiled from "hello_world.groovy"
</span><span class='line'>public class hello_world extends groovy.lang.Script {
</span><span class='line'>  public static transient boolean __$stMC;
</span><span class='line'>  public hello_world();
</span><span class='line'>  public hello_world(groovy.lang.Binding);
</span><span class='line'>  public static void main(java.lang.String...);
</span><span class='line'>  public java.lang.Object run();
</span><span class='line'>  protected groovy.lang.MetaClass $getStaticMetaClass();
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>The above code snippets show that <code>hello_world.class</code> is also JVM bytecode.
Although, we cannot execute <code>java hello_world</code> directly, the <code>javap</code> command confirms that it is Java bytecode.
With the right class dependencies, provided in <code>groovy-all-2.4.8.jar</code> in <code>GROOVY_HOME</code>, we can execute the bytecode compiled from Groovy code using <code>java</code> code, as shown below.</p>

<figure class='code'><figcaption><span>Exceute Groovy code with Java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>tdongsi-ltm4:docs tdongsi$ which groovyc
</span><span class='line'>/usr/local/bin/groovyc
</span><span class='line'>tdongsi-ltm4:docs tdongsi$ ls -l /usr/local/bin/groovyc
</span><span class='line'>lrwxr-xr-x  1 tdongsi  staff  34 Feb 10  2017 /usr/local/bin/groovyc -&gt; ../Cellar/groovy/2.4.8/bin/groovyc
</span><span class='line'>
</span><span class='line'>tdongsi-ltm4:docs tdongsi$ java -cp /usr/local/Cellar/groovy/2.4.8/libexec/embeddable/groovy-all-2.4.8.jar:. hello_world
</span><span class='line'>Hello World</span></code></pre></td></tr></table></div></figure>


<p>The implication is that, in any production system or development environment, you can add/execute any Groovy code by simply adding a single jar file.
For example, in Maven projects, all you need to do is to add this into the pom.xml file:</p>

<figure class='code'><figcaption><span>Groovy dependencies</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;dependency&gt;</span>
</span><span class='line'>  <span class="nt">&lt;groupId&gt;</span>org.codehaus.groovy<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>  <span class="nt">&lt;artifactId&gt;</span>groovy-all<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>  <span class="nt">&lt;version&gt;</span>2.4.13<span class="nt">&lt;/version&gt;</span>
</span><span class='line'><span class="nt">&lt;/dependency&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>After that, you can start adding package and Groovy file, e.g., HelloWorld.groovy, into &ldquo;src/main/groovy&rdquo; folder.
See <a href="https://github.com/tdongsi/java/commit/3ce5202f9c575f735f14f095ea26759224316576">example commit</a>.</p>

<h3>Default imports</h3>

<p>In Groovy, if you don&rsquo;t add any <code>import</code> statements, you get the following package by default:</p>

<ul>
<li>java.lang.*</li>
<li>java.util.*</li>
<li>java.net.*</li>
<li>java.io.*</li>
<li>java.math.BigInteger</li>
<li>java.math.BigDecimal</li>
<li>groovy.lang.*</li>
<li>groovy.util.*</li>
</ul>


<h3><code>def</code> keyword</h3>

<p>In Groovy, a variable can be dynamic type, using <code>def</code> keyword, or static type (Java-style).</p>

<figure class='code'><figcaption><span>Dynamic and weak typing</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="kt">def</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
</span><span class='line'><span class="n">println</span> <span class="n">x</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">name</span>
</span><span class='line'><span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;abc&#39;</span>
</span><span class='line'><span class="n">println</span> <span class="n">x</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">name</span>
</span></code></pre></td></tr></table></div></figure>


<p>The best practice is to use static typing when you know what type a variable is at the time of writing.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Cuong Dong-Si</span></span>

      




<time class='entry-date' datetime='2017-12-08T17:16:47-08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>8</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>5:16 pm</span></time>
      

<span class="categories">
  
    <a class='category' href='/java/blog/categories/groovy/'>groovy</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://tdongsi.github.io/java/blog/2017/12/08/groovy-fundamentals-part-1/" data-via="" data-counturl="http://tdongsi.github.io/java/blog/2017/12/08/groovy-fundamentals-part-1/" >Tweet</a>
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/java/blog/2017/12/06/java-9/" title="Previous Post: Java 9">&laquo; Java 9</a>
      
      
        <a class="basic-alignment right" href="/java/blog/2017/12/08/groovy-fundamentals-part-2/" title="Next Post: Groovy Fundamentals: Part 2: Numbers & Strings">Groovy Fundamentals: Part 2: Numbers & Strings &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
    <h1>About This Blog</h1>
    <p>Random interview experience and lessons.</p>
</section><section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/java/blog/2019/07/07/gradle-fundamentals-tasks/">Gradle Fundamentals: Tasks</a>
      </li>
    
      <li class="post">
        <a href="/java/blog/2018/08/11/gradle-fundamentals-part-3/">Gradle Fundamentals: Part 3</a>
      </li>
    
      <li class="post">
        <a href="/java/blog/2018/08/11/gradle-fundamentals-part-2/">Gradle Fundamentals: Part 2</a>
      </li>
    
      <li class="post">
        <a href="/java/blog/2018/08/11/gradle-fundamentals-part-1/">Gradle Fundamentals: Part 1</a>
      </li>
    
      <li class="post">
        <a href="/java/blog/2018/03/25/advanced-java-part-1/">Advanced Java Part 1</a>
      </li>
    
      <li class="post">
        <a href="/java/blog/2018/02/08/jenkins-plugin-development/">Jenkins Plugin Development</a>
      </li>
    
      <li class="post">
        <a href="/java/blog/2017/12/08/groovy-fundamentals-part-5/">Groovy Fundamentals: Part 5: Demos</a>
      </li>
    
      <li class="post">
        <a href="/java/blog/2017/12/08/groovy-fundamentals-part-4/">Groovy Fundamentals: Part 4: Closures & Operators</a>
      </li>
    
      <li class="post">
        <a href="/java/blog/2017/12/08/groovy-fundamentals-part-3/">Groovy Fundamentals: Part 3: POGOs & Collections</a>
      </li>
    
      <li class="post">
        <a href="/java/blog/2017/12/08/groovy-fundamentals-part-2/">Groovy Fundamentals: Part 2: Numbers & Strings</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Categories</h1>
    <ul id="category-list"><li><a href='/java/blog/categories/book/'>book (1)</a></li><li><a href='/java/blog/categories/concurrency/'>concurrency (2)</a></li><li><a href='/java/blog/categories/gradle/'>gradle (5)</a></li><li><a href='/java/blog/categories/groovy/'>groovy (8)</a></li><li><a href='/java/blog/categories/java/'>java (9)</a></li><li><a href='/java/blog/categories/maven/'>maven (1)</a></li><li><a href='/java/blog/categories/questions/'>questions (1)</a></li><li><a href='/java/blog/categories/todo/'>todo (1)</a></li><li><a href='/java/blog/categories/tutorial/'>tutorial (3)</a></li></ul>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2019 - Cuong Dong-Si -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
